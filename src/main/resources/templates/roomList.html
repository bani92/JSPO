<!doctype html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default_layout}">

<head>
    <meta charset="UTF-8">
    <title>객실 등록</title>

</head>
<body>

<div class="container h-100 " layout:fragment="content">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript"
            src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <script src="/js/roomList.js" defer></script>
    <style>
        td {
            text-align: center;
        }

        .oriImg {
            width: 200px;
            height: 200px;
        }
    </style>

<!--    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>-->

    <link rel="stylesheet" type="text/css"
          href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"/>

    <header>
        <th:block th:if="${hotelDto != null}">
            <h1 th:text="${hotelDto.htName}"/>
            <h3 th:text="${hotelDto.htAddress}"/>
            <h3 th:text="${hotelDto.htPhone}"/>
            <img th:src="${hotelDto.getHtImg()}" class="oriImg">
        </th:block>
    </header>

    <table>
        <form th:action="@{/room/list/}+${hotelDto.htId}">
            <input type="text" name="daterange" th:value="${#temporals.createToday()}"/>
            <input type="text" class="start" name="checkin" th:value="${checkin}" hidden="hidden"/>
            <input type="text" class="end" name="checkout" th:value="${checkout}" hidden="hidden"/>
            <button type="submit">검색</button>
        </form>

        <tr>
            <th>사진</th>
            <th>객실이름</th>
            <th>객실가격</th>
        </tr>

        <tr th:each="list : ${list}">
            <form role="form" method="post" action="/reservation">
                <input type="text" hidden=hidden th:name="hotelHtId" th:value="${list.hotelHtId}"/>
                <td>
                    <img th:src="${list.rImg}" class="oriImg">
                </td>
                <td th:name="rName" th:text="${list.rName}"></td>
                <td th:name="rPrice" th:text="${list.rPrice}+'원'"></td>
                <td th:name="rCnt" th:text="${list.rCnt}+'명'"></td>
                <div hidden="hidden">
                    <input type="text" th:name="rId" th:value="${list.rId}"/>
                    <input type="text" class="start" th:name="rCheckin" th:value="${checkin}"/>
                    <input type="text" class="end" th:name="rCheckout" th:value="${checkout}"/>
                </div>
                <td>
                    <button type="submit">객실 예약하기</button>
                </td>
            </form>
        </tr>
    </table>
</div>
</body>
</html>