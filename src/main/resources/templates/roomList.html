<!doctype html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default_layout}">

<head>
    <meta charset="UTF-8">
    <title>객실 등록</title>

</head>
<body>

<div class="container h-100 " layout:fragment="content">

    <link rel="stylesheet" type="text/css" href="http://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" href="http://cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
    <script type="text/javascript" src="http://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript"  src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <script src="/js/roomList.js" defer></script>

    <style>
        td {
            text-align: center;
        }

        .oriImg {
            width: 300px;
            height: 500px;
        }
        .roomImg {
            width: 500px;
            height: 500px;
        }


        .visual {
            position: relative;
        }

        .visual button {
            position: absolute;
            z-index: 10;
            top: 50%;
            transform: translateY(-50%);
            width: 71px;
            height: 71px;
            border-radius: 100%;
            background: rgba(0, 0, 0, .5);
            border: none;
        }

        .visual button:before {
            font-family: 'xeicon';
            color: #fff;
            font-size: 45px;
        }

        .visual button.slick-prev {
            left: 50px;
            font-size: 0;
            color: transparent;
        }

        .visual button.slick-prev:before {
            content: "\e93d";
            font-family: 'xeicon';

        }


        .visual button.slick-next {
            right: 50px;
            font-size: 0;
            color: transparent;
        }

        .visual button.slick-next:before {
            content: "\e940";
            font-family: 'xeicon';
        }


    </style>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>

    <link rel="stylesheet" type="text/css"
          href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"/>

    <header>
        <th:block th:if="${hotelDto != null}">
            <h1 th:text="${hotelDto.htName}"/>
            <h3 th:text="${hotelDto.htAddress}"/>
            <h3 th:text="${hotelDto.htPhone}"/>
            <!--    리스트로 그림 받아오기        -->
            <section class="visual">
                <th:block th:if="${ilist != null}">
                    <tr th:each="ilist : ${ilist}">
            <img th:src="${ilist.getImg()}" class="oriImg">
                    </tr>
                </th:block>
            </section>
            <script type="text/javascript">
                $(document).ready(function() {
                    $.noConflict();
                    $('.visual').slick();
                });
            </script>
        </th:block>
    </header>

    <table>
        <form th:action="@{/room/list/}+${hotelDto.htId}">
            <input type="text" name="daterange" th:value="${#temporals.createToday()}"/>
            <input type="text" class="start" name="checkin" th:value="${checkin}" hidden="hidden"/>
            <input type="text" class="end" name="checkout" th:value="${checkout}" hidden="hidden"/>
            <button class="submitDate" type="submit" hidden="hidden"></button>
        </form>

        <tr>
            <th>사진</th>
            <th>객실이름</th>
            <th>객실가격</th>
        </tr>

        <tr th:each="list : ${list}">
            <form role="form" method="post" action="/reservation">
                <input type="text" hidden=hidden th:name="hotelHtId" th:value="${list.hotelHtId}"/>
                <td>
                    <img th:src="${list.rImg}" class="roomImg" >
                </td>
                <td th:name="rName" th:text="${list.rName}"></td>
                <td th:name="rPrice" th:text="${#numbers.formatInteger(list.rPrice,3,'COMMA')}+'원'"></td>
                <div hidden="hidden">
                    <input type="text" th:name="rId" th:value="${list.rId}"/>
                    <input type="text" class="start" th:name="rCheckin" th:value="${checkin}"/>
                    <input type="text" class="end" th:name="rCheckout" th:value="${checkout}"/>
                </div>
                <td>
                    <button type="submit">객실 예약하기</button>
                </td>
            </form>
        </tr>
    </table>
</div>
</body>
</html>